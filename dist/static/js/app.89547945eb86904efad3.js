webpackJsonp([1],{A5nE:function(t,e){},MYm6:function(t,e){},NHnr:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i("7+uW"),s=i("fZjL"),a=i.n(s),o=i("2KeS"),r=i("Dd8w"),l=i.n(r);var d=Object(o.b)({jsonStore:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{photoData:[],tipData:{}},e=arguments[1];switch(e.type){case"PHOTO_GET":t=l()({},t,{photoData:e.value});break;case"TIP_GET":var i=e.value;t=l()({},t,{tipData:l()({},t.tipData,{items:i.items,sidebarSetting:i.sidebarSetting,logoSetting:i.logoSetting})})}return t}}),c=i("oSVy"),m="PHOTO_GET",h="TIP_GET";var g=Object(o.a)(Object(c.createLogger)()),u=Object(o.c)(d,g),p={data:function(){return{}},props:["slide","animate","zIndex"],updated:function(){},methods:{onload:function(t){console.log("event function");var e=t.currentTarget,i=window.innerHeight,n=window.innerWidth,s=e.naturalWidth,a=e.naturalHeight,o=this.scaleImage(s,a,n,i);e.style.width=o.width+"px",e.style.height=o.height+"px",e.style.top=o.targettop+"px",e.style.left=o.targetleft+"px",console.log("portrait",o.portrait);var r=e.parentNode;o.portrait?(r.style.width=n+"px",r.style.height=i+"px",r.style.background="black"):(r.style.width="0px",r.style.height="0px",r.style.background="none")},scaleImage:function(t,e,i,n){var s={width:0,height:0,targetleft:0,targettop:0,portrait:!1};return t/e>i/n?(s.width=t*n/e,s.height=n):t>e?(s.width=i,s.height=e*i/t):(s.width=t*(n-100)/e,s.height=n-100,s.portrait=!0),s.targetleft=Math.floor((i-s.width)/2),s.targettop=Math.floor((n-s.height)/2),console.log("srcwidth, srcheight, targetwidth, targetheight",t,e,i,n),console.log("result",s),s}}},f={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticStyle:{position:"absolute"}},[i("img",{class:t.animate,attrs:{src:t.slide},on:{load:function(e){t.onload(e)}}})])},staticRenderFns:[]};var v=i("VU/8")(p,f,!1,function(t){i("p4PH")},null,null).exports,w=i("GKTo"),I={components:{Swipe:w.Swipe,SwipeItem:w.SwipeItem},data:function(){return{swipeOption:{startSlide:0,speed:1e3,auto:4e3}}},render:function(){var t=arguments[0];return t(w.Swipe,{class:"my-swipe",attrs:{speed:this.swipeOption.speed,auto:this.swipeOption.auto}},[this.items.map(function(e,i){return t(w.SwipeItem,{class:"tipItem"},[t("div",{class:"image-container"},[t("img",{attrs:{src:e.imageUrl,alt:e.title}},[]),t("div",{class:"title"},[e.title]),t("div",{class:"subtitle"},[e.subtitle])]),t("div",{class:"teaser"},[t("div",{class:"Tiptitle"},["Tips"]),t("div",{class:"tipcontent"},[e.tipContents])])])})])},props:["items"],mounted:function(){this.getFullHeight(),window.addEventListener("resize",this.getFullHeight)},methods:{getFullHeight:function(){var t=window.innerHeight,e=document.getElementsByClassName("mint-swipe")[0];console.log(t),e.style.height=t+"px",document.getElementById("photoarea").style.height=t+"px"}}};var b=i("VU/8")(I,null,!1,function(t){i("A5nE")},null,null).exports,S=i("zBcb"),y=i("mtWM"),x=i.n(y);function T(){x.a.get("http://107.170.197.24/app/ajax.php?method=photojson&crm=LL").then(function(t){u.dispatch((e=t.data,{type:m,value:e.images}));var e}).catch(function(t){console.log("DFSFA",t)}),setTimeout(T,1e4)}function D(){x.a.get("http://107.170.197.24/app/ajax.php?method=tipjson&crm=LL").then(function(t){u.dispatch((e=t.data,{type:h,value:{items:e.items,sidebarSetting:e.sidebarSetting,logoSetting:e.logoSetting}}));var e}).catch(function(t){console.log("DFSFA",t)})}var H={data:function(){return{slideImages:{images:[],preimages:[],loadingFlag:!1,start:!1,currentNumber:0,timer:null,animates:["animated tada","animated rollIn ","animated rotateInUpLeft","animated slideInLeft","animated pulse","animated zoomInDown","animated zoomInLeft","animated zoomInUp","animated slideInUp","animated rotateInDownLeft","animated pulse"],loadDom:[]},slideTips:{items:[],sidebarStatus:"",sidebarMode:"",slidesIn:0,stays:0}}},render:function(t){return t("main",{class:"main"},[t("section",{class:"section"},[t("div",{class:"container"},[t("div",{class:"row"},[t("div",{attrs:{id:"photoarea"},style:"width:100%;"},[t("div",{class:"slide"},[t("div",null,[(n=t,s=this.slideImages,s.loadDom.map(function(t,e){return n(v,{attrs:{slide:t,animate:s.animates[Math.abs(e>2?s.currentNumber:e)%s.animates.length],zIndex:e>2?s.currentNumber:e}},[])}))])])]),t("div",{attrs:{id:"tiparea"},style:"    width: 300px; position: absolute; right: 0; z-index: 10000;"},[t("div",{attrs:{id:"slider"}},[t("div",{attrs:{id:"slides"}},[t("div",{attrs:{id:"overflow"}},[t("div",{class:"inner"},[(e=t,i=this.slideTips,e("article",{class:"tipslide"},[e(b,{attrs:{items:i.items}},[])]))])])])])])])])])]);var e,i,n,s},beforeCreate:function(){T(),D()},created:function(){var t=this;u.subscribe(function(){var e=u.getState(),i=e.jsonStore.photoData;a()(i).length>0&&(t.slideImages.preimages=i);var n=e.jsonStore.tipData;a()(n).length>0&&(t.slideTips.items=n.items,t.slideTips.sidebarStatus=n.sidebarSetting.sideStatus,t.slideTips.sidebarMode=n.sidebarSetting.mode,t.slideTips.slidesIn=n.sidebarSetting.slideIn,t.slideTips.stays=n.sidebarSetting.stays),t.slideImages.start||t.startAnimation()})},mounted:function(){},updated:function(){this.getWidth()},beforeDestroy:function(){},methods:{getWidth:function(){},getImageHeight:function(){for(var t=window.innerHeight,e=(window.innerWidth,document.getElementsByClassName("animated")),i=0;i<e.length;i++){var n=e[i].naturalHeight,s=e[i].naturalWidth;console.log(n,s),console.log("----------");var a=e[i].style.height=t+"px",o=e[i].style.width=t/n*s+"px";console.log(a,o)}},startAnimation:function(){this.replacePhotos(),console.log("start",this.slideImages.images),this.slideImages.start=!0,this.slideImages.timer=this.addTimer()},addTimer:function(){this.nextAnimation(),setTimeout(this.addTimer,3e3)},replacePhotos:function(){this.slideImages.images=this.slideImages.preimages,console.log("newJson",this.slideImages.images)},nextAnimation:function(){this.slideImages.loadDom.length>3&&this.slideImages.loadDom.splice(0,1),this.slideImages.currentNumber%this.slideImages.images.length==0?(this.slideImages.currentNumber+=1,this.replacePhotos()):this.slideImages.currentNumber+=1,this.slideImages.loadDom.push(this.slideImages.images[Math.abs(this.slideImages.currentNumber)%this.slideImages.images.length])},getImageSize:function(){document.getElementsByClassName("container")[0].clientWidth,document.getElementById("photoarea").clientWidth,document.getElementById("tiparea").clientWidth;var t=document.getElementById("slider").clientHeight,e=window.innerHeight;console.log(t,e)}}};var E={name:"app",components:{MainSlides:i("VU/8")(H,null,!1,function(t){i("iqV1")},"data-v-23dff6a0",null).exports}},j={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("MainSlides")],1)},staticRenderFns:[]};var N=i("VU/8")(E,j,!1,function(t){i("MYm6")},null,null).exports,M=i("4Yho");n.a.use(M.a),n.a.use(S.reduxStorePlugin),n.a.config.productionTip=!1,new n.a({render:function(t){return t(N,null,[])}}).$mount("#app")},iqV1:function(t,e){},p4PH:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.89547945eb86904efad3.js.map